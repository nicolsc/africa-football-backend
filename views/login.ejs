<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Login</title>
    <!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>-->
    <script type="text/javascript" src="/js/jquery.js"></script>
    <script type="text/javascript">
    	$(document).ready(function(){
    		$('#login').on('click', '#btn-submit', function(evt){
	    		var params = {};
          $('#login input').each(function(idx,item){
            params[item.id] = item.value;
          });
          $.ajax({type:'POST', url:'/login', data:params, dataType:'json', success:function(result){
            success(JSON.stringify(result));
          }, error:function(err){
            error(err.msg);
          }
          });
        });
      });
      function success(msg){
        $('#result').removeClass('error').addClass('success').html(msg).show().fadeOut(3000);
        clear();
      }
      function error(msg){
        $('#result').addClass('error').removeClass('success').html('Error - '+msg).show().fadeOut(3000);
      }
    </script>
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <h1>Log in</h1>
    <div id="result"></div>
    <div id="login">
      <div>
          <label for='name'>Name:</label>&nbsp;<input type="text" id="name" />
      </div>
      <div>
          <label for='password'>Password:</label>&nbsp;<input type="password" id="password" />
      </div>
      <div class="buttons">
        <button id="btn-submit">OK</button>
      </div>
    </div>
  </body>
</html>